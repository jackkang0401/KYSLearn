# 静态分析


### 1.指标

* 1. 圈复杂度：指的是遍历一个模块时的复杂度，这个复杂度是由分支语句比如 if、case、while、for，还有运算符比如 &&、||，以及决策点，共同确定的。一般来说，圈复杂度在以 4 以内是低复杂度，5 到 7 是中复杂度，8 到 10 是高复杂度，11 以上时复杂度就非常高了

* 2. NPath 复杂度：NPath 度量是指一个方法所有可能执行的路径数量。一般高于 200 就需要考虑降低复杂度了

* 3. NCSS 度量：指不包含注释的源码行数，行数多会导致代码维护时阅读困难，方法或类做的事情太多，应该拆分或重构。一般方法行数不过百，类的行数不过千

### 2. 缺陷

* 1. 需要耗费更长的时间。对当前分析的方法、参数、变量去和整个工程关联代码一起做分析。虽然在设计静态分析器时，就已经对其速度做了很多优化，但还是达不到程序编译的速度。因为静态分析本身就包含了编译最耗时的 IO 和语法分析阶段，而且静态分析的内容多于编译，所以再怎么优化，即使是最好的情况也会比编译过程来得要慢
* 2. 静态分析器只能检查出那些专门设计好的、可查找的错误。对于特定类型的错误分析，还需要开发者靠自己的能力写一些插件并添加进去

### 3.XCode -> Analyze

> 通过静态语法分析能够找出在代码层面就能发现的内存泄露问题，还可以通过上下文分析出是否存在变量无用等问题。无法在编写代码的阶段发现更多的问题
